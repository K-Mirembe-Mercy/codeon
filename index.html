<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CODEON Uganda | Code Your Future</title>

<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,sans-serif}

body{
min-height:100vh;
color:white;
background:linear-gradient(135deg,#002b36,#004d40,#00695c,#00897b);
background-size:400% 400%;
animation:bgMove 15s ease infinite;
overflow-x:hidden;
}

@keyframes bgMove{
0%{background-position:0% 50%}
50%{background-position:100% 50%}
100%{background-position:0% 50%}
}

canvas{
position:fixed;
top:0;
left:0;
z-index:-1;
}

.glass{
background:rgba(255,255,255,0.08);
backdrop-filter:blur(20px);
border-radius:15px;
border:1px solid rgba(255,255,255,0.2);
box-shadow:0 8px 32px rgba(0,0,0,0.4);
padding:30px;
margin:20px auto;
max-width:1100px;
}

header{text-align:center}
nav{text-align:center;margin-top:10px}
nav a{color:white;margin:0 15px;text-decoration:none;font-weight:bold}

.cards{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
gap:20px;
margin-top:20px;
}

.card{
padding:20px;
transition:0.3s ease;
cursor:pointer;
}

.card:hover{transform:translateY(-8px)}

button{
padding:10px 18px;
background:#00e0c6;
border:none;
border-radius:8px;
color:#003b44;
font-weight:bold;
cursor:pointer;
margin-top:10px;
transition:0.3s;
}

button:hover{background:white}

input,textarea{
width:100%;
padding:10px;
margin-top:10px;
border-radius:8px;
border:none;
}

.hidden{display:none}

.progress{
width:100%;
height:10px;
background:rgba(255,255,255,0.2);
border-radius:10px;
margin-top:10px;
}

.progress-bar{
height:100%;
width:0%;
background:#00e0c6;
border-radius:10px;
transition:1s ease;
}

.toast{
position:fixed;
bottom:20px;
right:20px;
background:#00e0c6;
color:#003b44;
padding:15px;
border-radius:10px;
display:none;
}
</style>
</head>

<body>

<canvas id="particles"></canvas>

<header class="glass">
<h1>CODEON Uganda</h1>
<p>Code Your Future</p>
</header>

<nav class="glass">
<a href="#">Home</a>
<a href="#programs">Programs</a>
<a href="#verify">Verify</a>
</nav>

<section class="glass">
<h2>Empowering Uganda's Next Generation of Developers</h2>
<p>Structured coding education with real GitHub collaboration workflow.</p>
</section>

<section id="programs" class="glass">
<h2>Programs</h2>
<div class="cards">

<div class="card glass">
<h3>Level 1 â€“ FREE</h3>
<p>HTML, CSS, Git Basics</p>
<button onclick="location.href='course1.html'">Open Course</button>
<button onclick="payCert1()">Optional Certificate</button>
</div>

<div class="card glass">
<h3>Level 2 â€“ FREE</h3>
<p>JavaScript & GitHub</p>
<button onclick="location.href='course2.html'">Open Course</button>
<button onclick="payCert2()">Optional Certificate</button>
</div>

<div class="card glass">
<h3>Level 3 â€“ UGX 50,000</h3>
<p>Advanced & Industry Preparation</p>
<div id="level3Status">Locked ðŸ”’</div>
<button onclick="payLevel3()">Pay</button>
<button onclick="openLevel3()">Open Course</button>
</div>

</div>
</section>

<section id="dashboard" class="glass hidden">
<h2>Student Dashboard</h2>
<p id="welcome"></p>

<h3>Progress</h3>
<div class="progress"><div id="progressBar" class="progress-bar"></div></div>

<h3>Leaderboard</h3>
<div id="leaderboard"></div>
</section>

<section class="glass">
<h2>AI Coding Assistant</h2>
<textarea id="aiQ" placeholder="Ask coding question..."></textarea>
<button onclick="askAI()">Ask</button>
<div id="aiRes"></div>
</section>

<section id="verify" class="glass">
<h2>Verify Certificate</h2>
<input id="certID" placeholder="Certificate ID">
<button onclick="verifyCert()">Verify</button>
<div id="verifyResult"></div>
</section>

<div class="toast" id="toast"></div>

<script>
const firebaseConfig={
apiKey:"AIzaSyD_LR9Kllj7hoKTiJAaSxyHglSO6r5gh-g",
authDomain:"codeon-3cb1c.firebaseapp.com",
projectId:"codeon-3cb1c",
storageBucket:"codeon-3cb1c.firebasestorage.app",
messagingSenderId:"730172148868",
appId:"1:730172148868:web:2c712c8124be40019506d1"
};

firebase.initializeApp(firebaseConfig);
const auth=firebase.auth();
const db=firebase.firestore();

auth.signInAnonymously();

auth.onAuthStateChanged(async user=>{
if(user){
document.getElementById("dashboard").classList.remove("hidden");
document.getElementById("welcome").innerText="User: "+user.uid;

const ref=db.collection("users").doc(user.uid);
const doc=await ref.get();

if(!doc.exists){
await ref.set({
level3Paid:false,
cert1Paid:false,
cert2Paid:false,
progress:10,
createdAt:new Date()
});
}

const data=(await ref.get()).data();

if(data.level3Paid){
document.getElementById("level3Status").innerHTML="Unlocked âœ…";
}

document.getElementById("progressBar").style.width=data.progress+"%";

}
});

function payLevel3(){
window.location.href="https://store.pesapal.com/level3";
}

function payCert1(){
window.location.href="https://store.pesapal.com/certificatepayment";
}

function payCert2(){
window.location.href="https://store.pesapal.com/certificatepayment";
}

async function openLevel3(){
const user=auth.currentUser;
const doc=await db.collection("users").doc(user.uid).get();
if(doc.data().level3Paid){
window.location.href="course3.html";
}else{
showToast("Level 3 Locked. Complete payment.");
}
}

function askAI(){
document.getElementById("aiRes").innerHTML=
"Break your code into small functions and debug step by step.";
}

async function verifyCert(){
const id=document.getElementById("certID").value;
const doc=await db.collection("certificates").doc(id).get();
if(doc.exists){
document.getElementById("verifyResult").innerHTML="Valid âœ…";
}else{
document.getElementById("verifyResult").innerHTML="Not Found âŒ";
}
}

function showToast(msg){
const t=document.getElementById("toast");
t.innerText=msg;
t.style.display="block";
setTimeout(()=>{t.style.display="none"},3000);
}

/* PARTICLES */
const canvas=document.getElementById("particles");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let particles=[];
for(let i=0;i<80;i++){
particles.push({
x:Math.random()*canvas.width,
y:Math.random()*canvas.height,
r:Math.random()*2+1,
dx:Math.random()*0.5,
dy:Math.random()*0.5
});
}

function animate(){
ctx.clearRect(0,0,canvas.width,canvas.height);
ctx.fillStyle="rgba(0,255,200,0.7)";
particles.forEach(p=>{
ctx.beginPath();
ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
ctx.fill();
p.x+=p.dx;
p.y+=p.dy;
if(p.x>canvas.width)p.x=0;
if(p.y>canvas.height)p.y=0;
});
requestAnimationFrame(animate);
}
animate();
</script>

</body>
</html>
