<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CODEON HTML Foundations â€“ World Class</title>

<!-- Monaco Editor -->
<script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.44.0/min/vs/loader.js"></script>
<!-- Confetti -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
body{font-family:Arial,sans-serif;margin:0;background:#f4f4f4;color:#111;}
header{background:#111;color:white;text-align:center;padding:20px;}
.lesson{background:white;max-width:900px;margin:20px auto;padding:25px;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,0.15);}
.locked{opacity:0.5;pointer-events:none;}
button{padding:10px 20px;background:#111;color:white;border:none;cursor:pointer;margin-top:10px;border-radius:5px;}
button:hover{background:#333;}
#editor{height:300px;border:1px solid #ccc;margin-top:10px;border-radius:5px;}
iframe{width:100%;height:200px;border:1px solid black;margin-top:10px;border-radius:5px;}
.status{margin-top:10px;font-weight:bold;}
.protip{background:#e8f4ff;padding:10px;margin:10px 0;border-left:4px solid #2196F3;border-radius:5px;}
.protip h3{margin-top:0;}
.complete{color:green;font-weight:bold;}
</style>
</head>
<body>

<header>
<h1>CODEON â€“ HTML Foundations</h1>
<p>Learn, code, deploy & earn! Each lesson unlocks the next.</p>
</header>

<!-- LESSON 1 -->
<div class="lesson" id="lesson1">
<h2>Lesson 1 â€“ HTML Structure</h2>
<h3>Concepts:</h3>
<p><b>&lt;!DOCTYPE html&gt;</b> â€“ Tells the browser this is HTML5.</p>
<p><b>&lt;html&gt;</b> â€“ Root element of the page.</p>
<p><b>&lt;head&gt;</b> â€“ Contains metadata & title.</p>
<p><b>&lt;body&gt;</b> â€“ Contains visible content.</p>

<h3>Task:</h3>
<p>Change <b>"Your Name"</b> to your real name and write a paragraph about why you want to code.</p>

<div id="editor"></div>
<button onclick="runCode()">Run Code</button>
<button onclick="checkLesson(1)">Submit Lesson 1</button>
<iframe id="output"></iframe>
<p class="status" id="status1"></p>
</div>

<!-- LESSON 2 -->
<div class="lesson locked" id="lesson2">
<h2>Lesson 2 â€“ Headings & Paragraphs</h2>
<h3>Concepts:</h3>
<p>&lt;h1&gt; to &lt;h6&gt; â€“ Headings; &lt;p&gt; â€“ Paragraphs.</p>
<h3>Task:</h3>
<p>Add an &lt;h1&gt; and a &lt;p&gt; about your coding goals.</p>
<button onclick="checkLesson(2)">Submit Lesson 2</button>
<p class="status" id="status2"></p>
</div>

<!-- LESSON 3 -->
<div class="lesson locked" id="lesson3">
<h2>Lesson 3 â€“ Images & Links</h2>
<h3>Concepts:</h3>
<p>&lt;img src="" alt=""&gt; â€“ Display images.</p>
<p>&lt;a href=""&gt; â€“ Create links.</p>
<h3>Task:</h3>
<p>Add an image and a link to your favorite coding resource.</p>
<button onclick="checkLesson(3)">Submit Lesson 3</button>
<p class="status" id="status3"></p>
</div>

<!-- LESSON 4 -->
<div class="lesson locked" id="lesson4">
<h2>Lesson 4 â€“ Sections & Organization</h2>
<h3>Concepts:</h3>
<p>&lt;section&gt; â€“ Organizes content.</p>
<p>&lt;div&gt; â€“ Generic container for layout.</p>
<h3>Task:</h3>
<p>Use &lt;section&gt; and &lt;div&gt; to organize your page into at least 2 sections.</p>
<button onclick="checkLesson(4)">Submit Lesson 4</button>
<p class="status" id="status4"></p>
</div>

<!-- LESSON 5 -->
<div class="lesson locked" id="lesson5">
<h2>Lesson 5 â€“ GitHub & Monetization</h2>
<h3>Task:</h3>
<p>Deploy your project online and learn to monetize your skills.</p>

<div class="protip">
<h3>ğŸ’» GitHub Guide:</h3>
<ul>
<li>Create a free GitHub account: <a href="https://github.com/join" target="_blank">Sign up here</a></li>
<li>Make a new repository for your project.</li>
<li>Push your HTML/CSS files using Git or GitHub Desktop.</li>
<li>Deploy with GitHub Pages to get a live website.</li>
</ul>
</div>

<div class="protip">
<h3>ğŸ’° Monetization Tips:</h3>
<ul>
<li>Offer web design for local businesses.</li>
<li>Create templates or small apps to sell online.</li>
<li>Freelance on Upwork, Fiverr, or local platforms.</li>
<li>Document your projects to attract clients and sponsorships.</li>
</ul>
</div>

<button onclick="checkLesson(5)">Submit Final Lesson</button>
<p class="status" id="status5"></p>
</div>

<!-- Certificate -->
<div class="lesson" id="certificateSection" style="display:none;">
<h2>ğŸ“ Certificate</h2>
<p>Click below after completing all lessons to generate your certificate:</p>
<button onclick="generateCertificate()">Generate Certificate</button>
<div id="certificate"></div>
</div>

<script>
// Monaco Editor
require.config({ paths: { vs: 'https://cdn.jsdelivr.net/npm/monaco-editor@0.44.0/min/vs' }});
require(['vs/editor/editor.main'], function() {
window.editor = monaco.editor.create(document.getElementById('editor'), {
value: `<!DOCTYPE html>
<html>
<head>
<title>My First Website</title>
</head>
<body>
<h1>Your Name</h1>
<p>I want to become a Developer.</p>
</body>
</html>`,
language: 'html',
theme: 'vs-dark'
});
});

// Run code
function runCode(){
    const code = editor.getValue();
    document.getElementById("output").srcdoc = code;
}

// Points system
let points = 0;
function updatePoints(){console.log("Points:", points);}

// Confetti / flowers celebration
function celebrateLesson(lessonNum){
    const lessonEmojis = {
        1: ["ğŸŒ¸","ğŸŒ¼"], 
        2: ["ğŸŒŸ","âœ¨"], 
        3: ["ğŸ’","ğŸŒº"], 
        4: ["ğŸ‰","ğŸ¥³"], 
        5: ["ğŸ†","ğŸŒŸ"]
    };
    const emojis = lessonEmojis[lessonNum] || ["ğŸŒ¸"];
    for(let i=0;i<20;i++){
        confetti({
            particleCount:1,
            startVelocity:Math.random()*30+10,
            spread:60,
            ticks:120,
            gravity:0.5,
            origin:{x:Math.random(),y:Math.random()*0.6},
            shapes: ['text'],
            emojis: [emojis[Math.floor(Math.random()*emojis.length)]]
        });
    }
}

// Unlock next lesson & check
function unlockNext(num){
    const lesson = document.getElementById("lesson"+num);
    if(lesson) lesson.classList.remove("locked");
}
function checkLesson(lessonNum){
    const code = editor.getValue();
    let statusEl = document.getElementById("status"+lessonNum);
    let success = false;

    if(lessonNum===1){
        if(code.includes("<h1>") && !code.includes("Your Name")){
            statusEl.innerHTML="âœ… Lesson 1 Complete! Lesson 2 unlocked.";
            unlockNext(2); points+=10; updatePoints(); celebrateLesson(1);
            success=true;
        } else {statusEl.innerHTML="âŒ Replace 'Your Name' before submitting.";}
    }
    if(lessonNum===2){
        if(code.includes("<h1>") && code.includes("<p>")){
            statusEl.innerHTML="âœ… Lesson 2 Complete! Lesson 3 unlocked.";
            unlockNext(3); points+=10; updatePoints(); celebrateLesson(2);
            success=true;
        } else {statusEl.innerHTML="âŒ Add a heading and a paragraph.";}
    }
    if(lessonNum===3){
        if(code.includes("<img") && code.includes("<a")){
            statusEl.innerHTML="âœ… Lesson 3 Complete! Lesson 4 unlocked.";
            unlockNext(4); points+=10; updatePoints(); celebrateLesson(3);
            success=true;
        } else {statusEl.innerHTML="âŒ Add an image and a link.";}
    }
    if(lessonNum===4){
        if(code.includes("<section") && code.includes("<div")){
            statusEl.innerHTML="âœ… Lesson 4 Complete! Final lesson unlocked.";
            unlockNext(5); points+=10; updatePoints(); celebrateLesson(4);
            success=true;
        } else {statusEl.innerHTML="âŒ Use section and div tags.";}
    }
    if(lessonNum===5){
        statusEl.innerHTML="ğŸ‰ All lessons complete! You can generate your certificate.";
        document.getElementById("certificateSection").style.display="block";
        points+=20; updatePoints(); celebrateLesson(5);
        success=true;
    }

    return success;
}

// Certificate generator (payment placeholder)
function generateCertificate(){
    const name = editor.getValue().match(/<h1>(.*?)<\/h1>/i);
    const studentName = name ? name[1] : "Student";
    document.getElementById("certificate").innerHTML=`
    <div style="border:4px solid #111;padding:20px;text-align:center;border-radius:10px;">
    <img src="codeon_logo.png" alt="CODEON Logo" style="width:100px;"><br>
    <h2>ğŸ“ CODEON Certificate</h2>
    <p>Congratulations <b>${studentName}</b>!</p>
    <p>All lessons completed. QR code verification coming soon.</p>
    </div>`;
    alert("Certificate generated! (Imagine payment verified via Pesapal.)");
}
</script>
</body>
</html>
